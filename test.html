<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="test.css"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    </head>
<body>
  <section class="et-hero-tabs">
    <h1>Forest Nightmare</h1>
    <h3>Strach jest bliżej niż myślisz.</h3>
    <div class="et-hero-tabs-container">
      <a class="et-hero-tab" href="#stronaglowna">Strona Główna</a>
      <a class="et-hero-tab" href="#wiadomosci">Wiadomości</a>
      <a class="et-hero-tab" href="#oprojekcie">O Projekcie</a>
      <a class="et-hero-tab" href="#autorzy">Autorzy</a>
      <a class="et-hero-tab" href="#kontakt">Kontakt</a>
      <span class="et-hero-tab-slider"></span>
    </div>
  </section>

  <!-- Main -->
  <main class="et-main">
    <section class="et-slide" id="stronaglowna">
        <h2>Strona główna</h2>
        <p>Witaj na stronie głównej projektu "Forest Nightmare"!</p>
        <img src="game2.png"></img>
    </section>
    <br/><br/>
    <section class="et-slide" id="wiadomosci">
        <h2>Wiadomości</h2>
        <ul>
            <p>02.03.2022</p>
            <section>
                <li>+ Zmieniono treść notatek na aktualniejszą</li>
                <li>+ Dodano wyświetlanie statusu gry na discordzie</li>
                <li>+ Dodano wyświetlanie przedmiotów z bazy danych w ekwipunku</li>
                <li>+ Dodano protoyp zapisu i wczytywania gry</li>
                <li>+ Zrobiono kopię zapasową na wypadek utraty danych</li>
                <li>+ Zrobiono solidną zmianę targetu dla movementu przeciwnika</li>
                <li>+ Zrobiono wyświetlanie notatek podczas gdy podejdziemy do nich</li>
            </section>
            <p>02.02.2022</p>
            <section>
                <li>+/- Optymalizacja</li>
                <li>+/- Przebudowa lasu, dodanie wieży oraz domku.</li>
                <li>+/- Dodanie różnorodnych drzew do lasu.</li>
                <li>+/- Zmiana wysokości terenu i ładniejsza trawa.</li>
                <li>+/- Zmiana całkowicie modelu wroga oraz jego koncepcji. Zastąpiono klauna czymś w stylu człowieka bez twarzy.</li>
                <li>+/- Wstęp do misji i dialogów. Stworzono skrypt odpowiadający za audio w dialogach, i skrypt z modularną listą misji dostępnych w grze.</li>
                    
                <li>+ Dodano model gracza.</li>
                <li>+ Dodano Animacje chodzenia, i jeden taniec na próbę dla modelu gracza.</li>
                <li>+ Dodano ogrodzenie wśród lasu.</li>
                <li>+ Dodano nieopodal lasu wioskę oraz ścieżkę do niej prowadzącą.</li>
                <li>+ Dodano jedną cutscenkę do wioski.</li>
                <li>+ Dodano menu główne wraz z muzyką.</li>
                <li>+ Stworzono UI dla ekwipunku.</li>
                <li>+ Dodano "Pause Menu"</li>
                <li>+ Dodano HP dla gracza</li>
                <li>+ Dodano ekran śmierci po tym gdy podejdziemy za blisko wroga.</li>
                <li>+ Rozbudowano teren i zablokowano wyjście poza określony obszar.</li>
                <li>+ Dodano Sprint oraz Kucanie postaci.</li>
                    
                <li>- Usunięto kapsułę graczowi</li>
                <li>- Usunięto dźwięk "pozytywki" podczas gdy podejdziemy do wroga</li>
                <li>- Usunięto próbnego klauna, światło oraz lewitującą notatkę.</li>
                <li>- Usunięto irytującą trawę.</li>
                <li>- Usunięto duże skupiska drzew i zastąpiono je małymi, co pozytywnie wpłynęło na FPS-y.</li>
                </li>
            </section>
        </ul>
    </section>
    <section class="et-slide" id="oprojekcie">
      <h1>React</h1>
      <h3>something about react</h3>
    </section>
    <section class="et-slide" id="autorzy">
      <h1>Angular</h1>
      <h3>something about angular</h3>
    </section>
    <section class="et-slide" id="kontakt">
      <h1>Other</h1>
      <h3>something about other</h3>
    </section>
  </main>
</body>
  <script>
    class StickyNavigation {
	constructor() {
		this.currentId = null;
		this.currentTab = null;
		this.tabContainerHeight = 70;
		let self = this;
		$(".et-hero-tab").click(function () {
			self.onTabClick(event, $(this));
		});
		$(window).scroll(() => {
			this.onScroll();
		});
		$(window).resize(() => {
			this.onResize();
		});
	}

	onTabClick(event, element) {
		event.preventDefault();
		let scrollTop =
			$(element.attr("href")).offset().top - this.tabContainerHeight + 1;
		$("html, body").animate({ scrollTop: scrollTop }, 600);
	}

	onScroll() {
		this.checkTabContainerPosition();
		this.findCurrentTabSelector();
	}

	onResize() {
		if (this.currentId) {
			this.setSliderCss();
		}
	}

	checkTabContainerPosition() {
		let offset =
			$(".et-hero-tabs").offset().top +
			$(".et-hero-tabs").height() -
			this.tabContainerHeight;
		if ($(window).scrollTop() > offset) {
			$(".et-hero-tabs-container").addClass("et-hero-tabs-container--top");
		} else {
			$(".et-hero-tabs-container").removeClass("et-hero-tabs-container--top");
		}
	}

	findCurrentTabSelector(element) {
		let newCurrentId;
		let newCurrentTab;
		let self = this;
		$(".et-hero-tab").each(function () {
			let id = $(this).attr("href");
			let offsetTop = $(id).offset().top - self.tabContainerHeight;
			let offsetBottom =
				$(id).offset().top + $(id).height() - self.tabContainerHeight;
			if (
				$(window).scrollTop() > offsetTop &&
				$(window).scrollTop() < offsetBottom
			) {
				newCurrentId = id;
				newCurrentTab = $(this);
			}
		});
		if (this.currentId != newCurrentId || this.currentId === null) {
			this.currentId = newCurrentId;
			this.currentTab = newCurrentTab;
			this.setSliderCss();
		}
	}

	setSliderCss() {
		let width = 0;
		let left = 0;
		if (this.currentTab) {
			width = this.currentTab.css("width");
			left = this.currentTab.offset().left;
		}
		$(".et-hero-tab-slider").css("width", width);
		$(".et-hero-tab-slider").css("left", left);
	}
}

new StickyNavigation();

  </script>
</html>